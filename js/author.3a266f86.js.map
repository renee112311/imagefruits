{"version":3,"sources":["webpack:///./src/views/Author.vue?e814","webpack:///src/views/Author.vue","webpack:///./src/views/Author.vue?5f68","webpack:///./src/views/Author.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","avatar","length","src","_e","_v","_s","author","images","directives","name","rawName","_l","image","idx","key","modifiers","on","$event","showModal","title","albums","album","toMyalbum","albumCover","staticStyle","description","showModalTF","index","unfavorite","favorite","user","staticRenderFns","data","albumindex","userid","myfavorites","methods","push","_id","axios","patch","$swal","text","icon","confirmButtonText","splice","searchindex","likedOrnot","$store","commit","$router","computed","getters","mounted","get","item","albumtitle","i","undefined","setTimeout","beforeRouteLeave","next","component"],"mappings":"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","file":"js/author.3a266f86.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"author\"}},[_c('b-container',[_c('div',{staticClass:\"up\"},[_c('div',{attrs:{\"id\":\"avatar\"}},[(_vm.avatar.length!==0)?_c('img',{attrs:{\"src\":this.avatar[0].src}}):_vm._e()]),_c('h4',[_vm._v(_vm._s(this.author))])]),_c('div',[_c('b-tabs',[_c('b-tab',{staticClass:\"allimages\",attrs:{\"title\":\"所有圖片\",\"active\":\"\"}},[(this.images.length===0)?_c('p',[_vm._v(\"沒有圖片唷！\")]):_c('b-row',{directives:[{name:\"masonry\",rawName:\"v-masonry\"}],attrs:{\"transition-duration\":\"0.3s\",\"item-selector\":\".item\"}},_vm._l((_vm.images),function(image,idx){return _c('b-col',{directives:[{name:\"masonry-tile\",rawName:\"v-masonry-tile\"}],key:idx,staticClass:\"item\",attrs:{\"col\":\"\",\"cols\":\"12\",\"lg\":\"3\"}},[_c('b-card',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-img-public\",modifiers:{\"modal-img-public\":true}}],on:{\"click\":function($event){return _vm.showModal(idx)}}},[_c('b-card-img',{attrs:{\"src\":image.src}}),_c('b-card-title',[_vm._v(_vm._s(image.title))])],1)],1)}),1)],1),_c('b-tab',{staticClass:\"albums\",attrs:{\"title\":\"相簿\"}},[(_vm.albums.length===0)?_c('p',[_vm._v(\"沒有任何相簿\")]):_c('b-row',_vm._l((_vm.albums),function(album,idx){return _c('b-col',{key:idx,attrs:{\"col\":\"\",\"cols\":\"12\",\"md\":\"6\",\"lg\":\"2\"}},[_c('b-card',{on:{\"click\":function($event){return _vm.toMyalbum(idx)}}},[(_vm.albumCover!==null)?_c('b-card-img',{attrs:{\"src\":_vm.albumCover[idx].src}}):_vm._e(),_c('b-card-title',{staticStyle:{\"color\":\"white\",\"text-shadow\":\"0 0 4px #333\"}},[_vm._v(_vm._s(album.title))])],1)],1)}),1)],1),_c('b-tab',{staticClass:\"aboutme\",attrs:{\"title\":\"關於我\"}},[_c('p',[_vm._v(_vm._s(this.description))]),_c('span',[_vm._v(\"電話: 0900-000-000\")]),_c('br'),_c('span',[_vm._v(\"信箱: abc12345@gmail.com\")]),_c('br'),_c('span',[_vm._v(\"地址: 臺北市00區00路00巷00號\")]),_c('br'),_c('a',{attrs:{\"href\":\"#\"}},[_c('font-awesome-icon',{staticStyle:{\"margin\":\"30px 10px 20px 10px\",\"font-size\":\"30px\"},attrs:{\"icon\":['fab','facebook-square']}})],1),_c('a',{attrs:{\"href\":\"#\"}},[_c('font-awesome-icon',{staticStyle:{\"margin\":\"30px 10px 20px 10px\",\"font-size\":\"30px\"},attrs:{\"icon\":['fab','twitter-square']}})],1)])],1)],1)]),(_vm.images.length!==0&&_vm.showModalTF)?_c('b-modal',{attrs:{\"id\":\"modal-img-public\",\"size\":\"xl\",\"hide-footer\":\"\",\"hide-header\":\"\"}},[_c('b-btn',{attrs:{\"id\":\"goFront\",\"variant\":\"light\"},on:{\"click\":function($event){return _vm.showModal(_vm.index-1)}}},[_vm._v(\"<<\")]),_c('b-btn',{attrs:{\"id\":\"goForw\",\"variant\":\"light\"},on:{\"click\":function($event){return _vm.showModal(_vm.index+1)}}},[_vm._v(\">>\")]),_c('div',{staticClass:\"inner\"},[_c('b-row',[_c('b-col',{attrs:{\"col\":\"\",\"cols\":\"12\",\"md\":\"9\"}},[_c('div',{staticClass:\"cardimg\"},[_c('b-card-img',{attrs:{\"src\":_vm.images[_vm.index].src}})],1),_c('b-card-body')],1),_c('b-col',{attrs:{\"col\":\"\",\"cols\":\"12\",\"md\":\"3\"}},[_c('b-card-title',[_vm._v(_vm._s(_vm.images[_vm.index].title))]),_c('b-card-text',[_vm._v(_vm._s(_vm.images[_vm.index].description))]),(_vm.images[_vm.index].liked)?_c('span',{staticClass:\"heart\",on:{\"click\":_vm.unfavorite}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas','heart']}}),_c('span',{staticClass:\"position-absolute\",staticStyle:{\"bottom\":\"-70%\",\"left\":\"0\",\"font-size\":\"18px\"}},[_vm._v(\"點擊取消\")])],1):_c('span',{staticClass:\"heart\",on:{\"click\":_vm.favorite}},[_c('font-awesome-icon',{attrs:{\"icon\":['far','heart']}}),_c('span',{staticClass:\"position-absolute\",staticStyle:{\"bottom\":\"-70%\",\"left\":\"0\",\"font-size\":\"18px\"}},[_vm._v(\"點擊收藏\")])],1),_c('div',[_c('span',{staticStyle:{\"color\":\"#777\"}},[_vm._v(\"BY\")]),_c('div',{staticClass:\"round\",staticStyle:{\"margin-bottom\":\"10px\"}},[(_vm.avatar.length!==0)?_c('img',{attrs:{\"src\":_vm.avatar[0].src}}):_vm._e()]),_c('a',{staticStyle:{\"color\":\"#777\"}},[_vm._v(_vm._s(_vm.images[_vm.index].user))])]),_c('div',[_c('p',{staticStyle:{\"padding-left\":\"10px\"}},[_vm._v(\"分享至：\")]),_c('font-awesome-icon',{staticStyle:{\"margin\":\"0 10px 20px 10px\",\"font-size\":\"30px\"},attrs:{\"icon\":['fab','facebook-square']}}),_c('font-awesome-icon',{staticStyle:{\"margin\":\"0 10px 20px 10px\",\"font-size\":\"30px\"},attrs:{\"icon\":['fab','twitter-square']}})],1)],1)],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  #author\n    b-container\n      div.up\n        div#avatar\n          img(v-if=\"avatar.length!==0\" :src=\"this.avatar[0].src\")\n        h4 {{this.author}}\n      div\n        b-tabs\n          b-tab.allimages(title='所有圖片' active)\n            //- allimages\n            p(v-if=\"this.images.length===0\") 沒有圖片唷！\n            b-row(v-else v-masonry transition-duration=\"0.3s\" item-selector=\".item\")\n              b-col.item(col cols=\"12\" lg=\"3\" v-for=\"(image,idx) in images\" :key=\"idx\" v-masonry-tile)\n                b-card(v-b-modal.modal-img-public @click=\"showModal(idx)\")\n                  b-card-img(:src=\"image.src\")\n                  b-card-title {{image.title}}\n          b-tab.albums(title='相簿')\n            p(v-if=\"albums.length===0\") 沒有任何相簿\n            b-row(v-else)\n              b-col(col cols=\"12\" md=\"6\" lg=\"2\" v-for=\"(album, idx) in albums\" :key=\"idx\")\n                b-card(@click=\"toMyalbum(idx)\")\n                  b-card-img(v-if=\"albumCover!==null\" :src=\"albumCover[idx].src\")\n                  b-card-title(style=\"color:white;text-shadow:0 0 4px #333\") {{album.title}}\n\n          b-tab.aboutme(title='關於我')\n            p {{this.description}}\n            span 電話: 0900-000-000\n            br\n            span 信箱: abc12345@gmail.com\n            br\n            span 地址: 臺北市00區00路00巷00號\n            br\n            a(href=\"#\")\n              font-awesome-icon(:icon=\"['fab','facebook-square']\" style=\"margin:30px 10px 20px 10px;font-size:30px\")\n            a(href=\"#\")\n              font-awesome-icon(:icon=\"['fab','twitter-square']\" style=\"margin:30px 10px 20px 10px;font-size:30px\")\n    //- Modal\n    b-modal#modal-img-public(size=\"xl\" hide-footer hide-header v-if=\"images.length!==0&&showModalTF\")\n      b-btn#goFront(variant=\"light\" @click=\"showModal(index-1)\") <<\n      b-btn#goForw(variant=\"light\" @click=\"showModal(index+1)\") >>\n      div.inner\n        b-row\n          b-col(col cols=\"12\" md=\"9\")\n            div.cardimg\n              b-card-img(:src=\"images[index].src\")\n            b-card-body\n          b-col(col cols=\"12\" md=\"3\")\n            //- 標題\n            b-card-title {{images[index].title}}\n            //- 描述\n            b-card-text {{images[index].description}}\n            span.heart(v-if=\"images[index].liked\" @click=\"unfavorite\")\n              font-awesome-icon(:icon=\"['fas','heart']\")\n              span.position-absolute(style=\"bottom:-70%;left:0;font-size:18px\") 點擊取消\n            span.heart(v-else @click=\"favorite\")\n              font-awesome-icon(:icon=\"['far','heart']\")\n              span.position-absolute(style=\"bottom:-70%;left:0;font-size:18px\") 點擊收藏\n            //- 作者\n            div\n              span(style=\"color:#777\") BY\n              div.round(style=\"margin-bottom:10px\")\n                img(v-if=\"avatar.length!==0\" :src=\"avatar[0].src\")\n              a(style=\"color:#777\") {{images[index].user}}\n            //- 分享\n            div\n              p(style=\"padding-left:10px\") 分享至：\n              font-awesome-icon(:icon=\"['fab','facebook-square']\" style=\"margin:0 10px 20px 10px;font-size:30px\")\n              font-awesome-icon(:icon=\"['fab','twitter-square']\" style=\"margin:0 10px 20px 10px;font-size:30px\")\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      images: [],\n      albums: [],\n      albumCover: null,\n      index: '0',\n      albumindex: '0',\n      description: '',\n      avatar: [],\n      userid: '',\n      myfavorites: [],\n      showModalTF: false\n    }\n  },\n  methods: {\n    showModal (idx) {\n      this.showModalTF = true\n      if (idx < 0) {\n        this.index = this.images.length - 1\n      } else if (idx === this.images.length) {\n        this.index = 0\n      } else {\n        this.index = idx\n      }\n    },\n    favorite () {\n      if (!this.user) {\n        this.$swal({\n          title: '收藏失敗',\n          text: '請先登入',\n          icon: 'warning',\n          confirmButtonText: '知道了'\n        })\n      } else {\n        this.myfavorites.push(this.images[this.index]._id)\n        this.axios.patch(process.env.VUE_APP_APIURL + '/users/edit/' + this.userid, { account: this.user, favorite: this.myfavorites })\n          .then(response => {\n            this.images[this.index].liked = true\n            this.$swal({\n              title: '收藏成功',\n              icon: 'success',\n              confirmButtonText: '知道了'\n            })\n          })\n          .catch((error) => {\n            console.log(error)\n            this.$swal({\n              title: '收藏失敗',\n              text: '發生錯誤',\n              icon: 'error',\n              confirmButtonText: '知道了'\n            })\n          })\n      }\n    },\n    unfavorite () {\n      const searchindex = this.myfavorites.indexOf(this.images[this.index]._id)\n      this.myfavorites.splice(searchindex, 1)\n      this.axios.patch(process.env.VUE_APP_APIURL + '/users/edit/' + this.userid, { account: this.user, favorite: this.myfavorites })\n        .then(response => {\n          this.images[this.index].liked = false\n        })\n        .catch((error) => {\n          console.log(error)\n          this.$swal({\n            title: '取消失敗',\n            text: '發生錯誤',\n            icon: 'error',\n            confirmButtonText: '知道了'\n          })\n        })\n    },\n    likedOrnot () {\n      for (const myfavorite of this.myfavorites) {\n        console.log(myfavorite)\n        let index = -1\n        this.images.find(function (item, i) {\n          if (item._id === myfavorite) {\n            index = i\n          }\n        })\n        if (index !== -1 && index !== undefined) {\n          this.images[index].liked = true\n        }\n      }\n    },\n    toMyalbum (idx) {\n      this.albumindex = idx\n      this.$store.commit('album', this.albums[this.albumindex].title)\n      this.$router.push('/authoralbum')\n    }\n  },\n  computed: {\n    user () {\n      return this.$store.getters.user\n    },\n    author () {\n      return this.$store.getters.author\n    }\n  },\n  mounted () {\n    // avatar\n    this.axios.get(process.env.VUE_APP_APIURL + '/avatar/' + this.author)\n      .then(response => {\n        this.avatar = response.data.result.map(d => {\n          return {\n            src: process.env.VUE_APP_APIURL + '/avatar/image/' + d.name\n          }\n        })\n      })\n      .catch((error) => {\n        console.log(error)\n        this.$swal({\n          title: '發生錯誤',\n          icon: 'error',\n          confirmButtonText: '知道了'\n        })\n      })\n    // allimages\n    this.axios.get(process.env.VUE_APP_APIURL + '/author/' + this.author)\n      .then(response => {\n        const result = response.data.result.filter(i => i.privacy === '公開')\n        this.images = result.map(d => {\n          return {\n            title: d.title,\n            description: d.description,\n            src: process.env.VUE_APP_APIURL + '/file/' + d.name,\n            _id: d._id,\n            user: d.user,\n            liked: false\n          }\n        })\n        for (const album of this.albums) {\n          const idx = []\n          const albumtitle = album.title\n          this.images.find(function (item, i) {\n            if (item.album === albumtitle) {\n              idx.push(i)\n            }\n          })\n          if (this.albumCover !== null && idx !== null) {\n            this.albumCover.push(this.images[idx[0]].src)\n          }\n        }\n        console.log(this.albumCover)\n      })\n      .catch((error) => {\n        console.log(error)\n        this.$swal({\n          title: '發生錯誤',\n          icon: 'error',\n          confirmButtonText: '知道了'\n        })\n      })\n    // 相簿\n    this.axios.get(process.env.VUE_APP_APIURL + '/albums/' + this.author)\n      .then(response => {\n        this.albums = response.data.result.map(d => {\n          return {\n            title: d.title,\n            description: d.description\n          }\n        })\n      })\n      .catch((error) => {\n        console.log(error)\n        this.$swal({\n          title: '發生錯誤',\n          icon: 'error',\n          confirmButtonText: '知道了'\n        })\n      })\n    // 作者資料\n    this.axios.get(process.env.VUE_APP_APIURL + '/users/' + this.author)\n      .then(response => {\n        const result = response.data.result[0]\n        this.description = result.description\n      })\n      .catch((error) => {\n        console.log(error)\n        this.$swal({\n          title: '發生錯誤',\n          icon: 'error',\n          confirmButtonText: '知道了'\n        })\n      })\n    if (this.user !== undefined && this.user.length !== 0) {\n      this.axios.get(process.env.VUE_APP_APIURL + '/users/' + this.user)\n        .then(response => {\n          const result = response.data.result[0]\n          if (result === undefined) {\n\n          } else {\n            this.userid = result._id\n            this.myfavorites = result.favorite\n          }\n        })\n        .catch((error) => {\n          console.log(error)\n          this.$swal({\n            title: '發生錯誤',\n            icon: 'error',\n            confirmButtonText: '知道了'\n          })\n        })\n    }\n\n    setTimeout(() => {\n      this.likedOrnot()\n    }, 100)\n  },\n  beforeRouteLeave (to, from, next) {\n    this.showModalTF = false\n    next()\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Author.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Author.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Author.vue?vue&type=template&id=02042212&lang=pug&\"\nimport script from \"./Author.vue?vue&type=script&lang=js&\"\nexport * from \"./Author.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}